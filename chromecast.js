!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(){(function(){"use strict";var a,b=this,c=function(a){a=a.split(".");for(var c,d=b;c=a.shift();){if(null==d[c])return null;d=d[c]}return d},d=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},e=function(a){return"string"==typeof a},f=function(a){return a.call.apply(a.bind,arguments)},g=function(a,b){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),a.apply(b,d)}}return function(){return a.apply(b,arguments)}},h=function(){return h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:g,h.apply(null,arguments)},i=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=b.slice();return c.push.apply(c,arguments),a.apply(this,c)}},j=Date.now||function(){return+new Date},k=function(a,c){var d=a.split("."),e=b;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||void 0===c?e=e[f]?e[f]:e[f]={}:e[f]=c},l=function(a,b){function c(){}c.prototype=b.prototype,a.n=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Pb=function(a,c){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(a){if(1<arguments.length){var b=Array.prototype.slice.call(arguments,1);return b.unshift(this,a),h.apply(null,b)}return h(this,a)};var m=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,m);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};l(m,Error),m.prototype.name="CustomError";var n=function(a){for(var b=a.split("%s"),c="",d=Array.prototype.slice.call(arguments,1);d.length&&1<b.length;)c+=b.shift()+d.shift();return c+b.join("%s")},o=function(a){return u.test(a)?(-1!=a.indexOf("&")&&(a=a.replace(p,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(q,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(r,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(s,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(t,"&#39;")),a):a},p=/&/g,q=/</g,r=/>/g,s=/"/g,t=/'/g,u=/[&<>"']/,v=function(a,b){return b>a?-1:a>b?1:0},w=function(a,b){b.unshift(a),m.call(this,n.apply(null,b)),b.shift()};l(w,m),w.prototype.name="AssertionError";var x,y,z,A,B=function(a,b){if(!a){var c="Assertion failed";if(b)var c=c+(": "+b),d=Array.prototype.slice.call(arguments,2);throw new w(""+c,d||[])}},C=function(a){throw new w("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},D=Array.prototype,E=D.indexOf?function(a,b,c){return B(null!=a.length),D.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,e(a))return e(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},F=function(a){var b=a.length;if(b>0){for(var c=Array(b),d=0;b>d;d++)c[d]=a[d];return c}return[]},G=function(a){var b,c=[],d=0;for(b in a)c[d++]=b;return c},H=function(a){var b,c={};for(b in a)c[b]=a[b];return c},I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),J=function(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<I.length;e++)b=I[e],Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}},K=function(){return b.navigator?b.navigator.userAgent:null};A=z=y=x=!1;var L;if(L=K()){var M=b.navigator;x=0==L.lastIndexOf("Opera",0),y=!x&&(-1!=L.indexOf("MSIE")||-1!=L.indexOf("Trident")),z=!x&&-1!=L.indexOf("WebKit"),A=!x&&!z&&!y&&"Gecko"==M.product}var N,O=x,P=y,Q=A,R=z,S=function(){var a=b.document;return a?a.documentMode:void 0};a:{var T,U="";if(O&&b.opera)var V=b.opera.version,U="function"==typeof V?V():V;else if(Q?T=/rv\:([^\);]+)(\)|;)/:P?T=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:R&&(T=/WebKit\/(\S+)/),T)var W=T.exec(K()),U=W?W[1]:"";if(P){var X=S();if(X>parseFloat(U)){N=String(X);break a}}N=U}var Y=N,Z={},$=function(a){var b;if(!(b=Z[a])){b=0;for(var c=String(Y).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&e>f;f++){var g=c[f]||"",h=d[f]||"",i=/(\d*)(\D*)/g,j=/(\d*)(\D*)/g;do{var k=i.exec(g)||["","",""],l=j.exec(h)||["","",""];if(0==k[0].length&&0==l[0].length)break;b=v(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||v(0==k[2].length,0==l[2].length)||v(k[2],l[2])}while(0==b)}b=Z[a]=b>=0}return b},_=b.document,ab=_&&P?S()||("CSS1Compat"==_.compatMode?parseInt(Y,10):5):void 0,bb=function(a){return cb(a||arguments.callee.caller,[])},cb=function(a,b){var c=[];if(0<=E(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(db(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;switch(f=d[e],typeof f){case"object":f=f?"object":"null";break;case"string":break;case"number":f=String(f);break;case"boolean":f=f?"true":"false";break;case"function":f=(f=db(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"..."),c.push(f)}b.push(a),c.push(")\n");try{c.push(cb(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else c.push(a?"[...long stack...]":"[end]");return c.join("")},db=function(a){if(eb[a])return eb[a];if(a=String(a),!eb[a]){var b=/function ([^\(]+)/.exec(a);eb[a]=b?b[1]:"[Anonymous]"}return eb[a]},eb={},fb=function(a,b,c,d,e){this.reset(a,b,c,d,e)};fb.prototype.ra=null,fb.prototype.qa=null;var gb=0;fb.prototype.reset=function(a,b,c,d,e){"number"==typeof e||gb++,this.Pa=d||j(),this.A=a,this.Ha=b,this.Oa=c,delete this.ra,delete this.qa},fb.prototype.va=function(){return this.A},fb.prototype.ya=function(a){this.A=a};var hb=function(a){this.Ua=a};hb.prototype.da=null,hb.prototype.A=null,hb.prototype.xa=null,hb.prototype.T=null;var ib=function(a,b){this.name=a,this.value=b};ib.prototype.toString=function(){return this.name};var jb=new ib("SHOUT",1200),kb=new ib("SEVERE",1e3),lb=new ib("WARNING",900),mb=new ib("INFO",800),nb=new ib("CONFIG",700),ob=new ib("FINE",500),pb=new ib("FINER",400),qb=[new ib("OFF",1/0),jb,kb,lb,mb,nb,ob,pb,new ib("FINEST",300),new ib("ALL",0)],rb=null,sb=function(a){if(!rb){rb={};for(var b,c=0;b=qb[c];c++)rb[b.value]=b,rb[b.name]=b}if(a in rb)return rb[a];for(c=0;c<qb.length;++c)if(b=qb[c],b.value<=a)return b;return null};hb.prototype.getName=function(){return this.Ua},hb.prototype.getParent=function(){return this.da},hb.prototype.ya=function(a){this.A=a},hb.prototype.va=function(){return this.A};var tb=function(a){return a.A?a.A:a.da?tb(a.da):(C("Root logger has no level set."),null)};hb.prototype.log=function(a,c,e){if(a.value>=tb(this).value)for("function"==d(c)&&(c=c()),a=this.Db(a,c,e),c="log:"+a.Ha,b.console&&(b.console.timeStamp?b.console.timeStamp(c):b.console.markTimeline&&b.console.markTimeline(c)),b.msWriteProfilerMark&&b.msWriteProfilerMark(c),c=this;c;){e=c;var f=a;if(e.T)for(var g=0,h=void 0;h=e.T[g];g++)h(f);c=c.getParent()}},hb.prototype.Db=function(a,d,f){var g=new fb(a,String(d),this.Ua);if(f){g.ra=f;var h,i=arguments.callee.caller;try{var j,k=c("window.location.href");if(e(f))j={message:f,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var l,m,n=!1;try{l=f.lineNumber||f.Ob||"Not available"}catch(p){l="Not available",n=!0}try{m=f.fileName||f.filename||f.sourceURL||b.$googDebugFname||k}catch(q){m="Not available",n=!0}j=!n&&f.lineNumber&&f.fileName&&f.stack&&f.message&&f.name?f:{message:f.message||"Not available",name:f.name||"UnknownError",lineNumber:l,fileName:m,stack:f.stack||"Not available"}}h="Message: "+o(j.message)+'\nUrl: <a href="view-source:'+j.fileName+'" target="_new">'+j.fileName+"</a>\nLine: "+j.lineNumber+"\n\nBrowser stack:\n"+o(j.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+o(bb(i)+"-> ")}catch(r){h="Exception trying to expose exception! You win, we lose. "+r}g.qa=h}return g};var ub=function(a,b,c){a.log(kb,b,c)};hb.prototype.info=function(a,b){this.log(mb,a,b)};var vb=function(a,b){a.log(ob,b,void 0)},wb=function(a,b){a.log(pb,b,void 0)},xb={},yb=null,zb=function(){yb||(yb=new hb(""),xb[""]=yb,yb.ya(nb))},Ab=function(a){zb();var b;if(!(b=xb[a])){b=new hb(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Ab(a.substr(0,c));c.xa||(c.xa={}),c.xa[d]=b,b.da=c,xb[a]=b}return b},Bb=function(){};Bb.prototype.Ta=!1,Bb.prototype.G=function(){this.Ta||(this.Ta=!0,this.d())};var Cb=function(a,b){a.V||(a.V=[]),a.V.push(h(b,void 0))};Bb.prototype.d=function(){if(this.V)for(;this.V.length;)this.V.shift()()};var Db=function(a){a&&"function"==typeof a.G&&a.G()},Eb=function(a,b){this.type=a,this.currentTarget=this.target=b,this.defaultPrevented=this.B=!1,this.Qa=!0};Eb.prototype.d=function(){},Eb.prototype.G=function(){},Eb.prototype.stopPropagation=function(){this.B=!0},Eb.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Qa=!1},k("cast.receiver.VERSION","2.0.0");var Fb=Ab("cast");k("cast.receiver.logger",Fb),k("cast.receiver.LoggerLevel",{DEBUG:0,VERBOSE:400,INFO:800,ERROR:1e3,NONE:1500}),Fb.Wa=function(a){Fb.ya(sb(a))},Fb.setLevelValue=Fb.Wa,Fb.Wa(1e3);var Gb=function(){this.Va=j()},Hb=new Gb;Gb.prototype.set=function(a){this.Va=a},Gb.prototype.reset=function(){this.set(j())},Gb.prototype.get=function(){return this.Va};var Ib=function(a){this.rb=a||"",this.sb=Hb};a=Ib.prototype,a.tb=!0,a.La=!0,a.vb=!0,a.ub=!0,a.Ma=!1,a.wb=!1;var Jb=function(a){return 10>a?"0"+a:String(a)},Kb=function(a,b){var c=(a.Pa-b)/1e3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},Lb=function(a){Ib.call(this,a)};l(Lb,Ib);var Mb=function(){this.ob=h(this.Bb,this),this.ta=new Lb,this.ta.La=!1,this.Ga=this.ta.Ma=!1,this.Ja="",this.pb={}};Mb.prototype.Bb=function(a){if(!this.pb[a.Oa]){var b;b=this.ta;var c=[];if(c.push(b.rb," "),b.La){var d=new Date(a.Pa);c.push("[",Jb(d.getFullYear()-2e3)+Jb(d.getMonth()+1)+Jb(d.getDate())+" "+Jb(d.getHours())+":"+Jb(d.getMinutes())+":"+Jb(d.getSeconds())+"."+Jb(Math.floor(d.getMilliseconds()/10)),"] ")}if(b.vb&&c.push("[",Kb(a,b.sb.get()),"s] "),b.ub&&c.push("[",a.Oa,"] "),b.wb&&c.push("[",a.va().name,"] "),c.push(a.Ha),b.Ma&&a.ra&&c.push("\n",a.qa),b.tb&&c.push("\n"),b=c.join(""),c=Nb)switch(a.va()){case jb:Ob(c,"info",b);break;case kb:Ob(c,"error",b);break;case lb:Ob(c,"warn",b);break;default:Ob(c,"debug",b)}else window.opera?window.opera.postError(b):this.Ja+=b}};var Nb=window.console,Ob=function(a,b,c){a[b]?a[b](c):a.log(c)},Pb=function(a){return Pb[" "](a),a};Pb[" "]=function(){};var Qb;(Qb=!P)||(Qb=P&&ab>=9);var Rb=Qb,Sb=P&&!$("9");!R||$("528"),Q&&$("1.9b")||P&&$("8")||O&&$("9.5")||R&&$("528"),Q&&!$("8")||P&&$("9");var Tb=function(a,b){if(Eb.call(this,a?a.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.U=this.state=null,a){var c=this.type=a.type;this.target=a.target||a.srcElement,this.currentTarget=b;var d=a.relatedTarget;if(d){if(Q){var e;a:{try{Pb(d.nodeName),e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d,this.offsetX=R||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=R||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0,this.button=a.button,this.keyCode=a.keyCode||0,this.charCode=a.charCode||("keypress"==c?a.keyCode:0),this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.state=a.state,this.U=a,a.defaultPrevented&&this.preventDefault()}};l(Tb,Eb),Tb.prototype.stopPropagation=function(){Tb.n.stopPropagation.call(this),this.U.stopPropagation?this.U.stopPropagation():this.U.cancelBubble=!0},Tb.prototype.preventDefault=function(){Tb.n.preventDefault.call(this);var a=this.U;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Sb)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(b){}},Tb.prototype.d=function(){};var Ub="closure_listenable_"+(1e6*Math.random()|0),Vb=function(a){try{return!(!a||!a[Ub])}catch(b){return!1}},Wb=0,Xb=function(a,b,c,d,e){this.w=a,this.ca=null,this.src=b,this.type=c,this.$=!!d,this.ba=e,this.key=++Wb,this.J=this.aa=!1},Yb=function(a){a.J=!0,a.w=null,a.ca=null,a.src=null,a.ba=null},Zb=function(a){this.src=a,this.g={},this.S=0};Zb.prototype.add=function(a,b,c,d,e){var f=this.g[a];f||(f=this.g[a]=[],this.S++);var g=_b(f,b,d,e);return g>-1?(a=f[g],c||(a.aa=!1)):(a=new Xb(b,this.src,a,!!d,e),a.aa=c,f.push(a)),a},Zb.prototype.remove=function(a,b,c,d){if(!(a in this.g))return!1;var e=this.g[a];return b=_b(e,b,c,d),b>-1?(Yb(e[b]),B(null!=e.length),D.splice.call(e,b,1),0==e.length&&(delete this.g[a],this.S--),!0):!1};var $b=function(a,b){var c=b.type;if(c in a.g){var d,e=a.g[c],f=E(e,b);(d=f>=0)&&(B(null!=e.length),D.splice.call(e,f,1)),d&&(Yb(b),0==a.g[c].length&&(delete a.g[c],a.S--))}};Zb.prototype.wa=function(a,b,c,d){a=this.g[a];var e=-1;return a&&(e=_b(a,b,c,d)),e>-1?a[e]:null};var _b=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.J&&f.w==b&&f.$==!!c&&f.ba==d)return e}return-1},ac="closure_lm_"+(1e6*Math.random()|0),bc={},cc=0,dc=function(a,b,c,e,f){if("array"==d(b))for(var g=0;g<b.length;g++)dc(a,b[g],c,e,f);else if(c=mc(c),Vb(a))g=c,pc(a),a.r.add(String(b),g,!1,e,f);else{if(!b)throw Error("Invalid event type");var g=!!e,h=kc(a);h||(a[ac]=h=new Zb(a)),e=h.add(b,c,!1,e,f),e.ca||(f=ec(),e.ca=f,f.src=a,f.w=e,a.addEventListener?a.addEventListener(b,f,g):a.attachEvent(b in bc?bc[b]:bc[b]="on"+b,f),cc++)}},ec=function(){var a=jc,b=Rb?function(c){return a.call(b.src,b.w,c)}:function(c){return c=a.call(b.src,b.w,c),c?void 0:c};return b},fc=function(a,b,c,e,f){if("array"==d(b))for(var g=0;g<b.length;g++)fc(a,b[g],c,e,f);else c=mc(c),Vb(a)?a.r.remove(String(b),c,e,f):a&&(a=kc(a))&&(b=a.wa(b,c,!!e,f))&&gc(b)},gc=function(a){if("number"!=typeof a&&a&&!a.J){var b=a.src;if(Vb(b))$b(b.r,a);else{var c=a.type,d=a.ca;b.removeEventListener?b.removeEventListener(c,d,a.$):b.detachEvent&&b.detachEvent(c in bc?bc[c]:bc[c]="on"+c,d),cc--,(c=kc(b))?($b(c,a),0==c.S&&(c.src=null,b[ac]=null)):Yb(a)}}},hc=function(a,b,c,d){var e=1;if((a=kc(a))&&(b=a.g[b]))for(b=F(b),a=0;a<b.length;a++){var f=b[a];f&&f.$==c&&!f.J&&(e&=!1!==ic(f,d))}return Boolean(e)},ic=function(a,b){var c=a.w,d=a.ba||a.src;return a.aa&&gc(a),c.call(d,b)},jc=function(a,b){if(a.J)return!0;if(!Rb){var d=b||c("window.event"),e=new Tb(d,this),f=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var g=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){g=!0}(g||void 0==d.returnValue)&&(d.returnValue=!0)}for(d=[],g=e.currentTarget;g;g=g.parentNode)d.push(g);for(var g=a.type,i=d.length-1;!e.B&&i>=0;i--)e.currentTarget=d[i],f&=hc(d[i],g,!0,e);for(i=0;!e.B&&i<d.length;i++)e.currentTarget=d[i],f&=hc(d[i],g,!1,e)}return f}return ic(a,new Tb(b,this))},kc=function(a){return a=a[ac],a instanceof Zb?a:null},lc="__closure_events_fn_"+(1e9*Math.random()>>>0),mc=function(a){return B(a,"Listener can not be null."),"function"==d(a)?a:(B(a.handleEvent,"An object listener must have handleEvent method."),a[lc]||(a[lc]=function(b){return a.handleEvent(b)}))},nc=function(){this.r=new Zb(this),this.Cb=this};l(nc,Bb),nc.prototype[Ub]=!0,a=nc.prototype,a.sa=null,a.addEventListener=function(a,b,c,d){dc(this,a,b,c,d)},a.removeEventListener=function(a,b,c,d){fc(this,a,b,c,d)},a.dispatchEvent=function(a){pc(this);var b,c=this.sa;if(c){b=[];for(var d=1;c;c=c.sa)b.push(c),B(1e3>++d,"infinite loop")}if(c=this.Cb,d=a.type||a,e(a))a=new Eb(a,c);else if(a instanceof Eb)a.target=a.target||c;else{var f=a;a=new Eb(d,c),J(a,f)}var g,f=!0;if(b)for(var h=b.length-1;!a.B&&h>=0;h--)g=a.currentTarget=b[h],f=oc(g,d,!0,a)&&f;if(a.B||(g=a.currentTarget=c,f=oc(g,d,!0,a)&&f,a.B||(f=oc(g,d,!1,a)&&f)),b)for(h=0;!a.B&&h<b.length;h++)g=a.currentTarget=b[h],f=oc(g,d,!1,a)&&f;return f},a.d=function(){if(nc.n.d.call(this),this.r){var a,b=this.r,c=0;for(a in b.g){for(var d=b.g[a],e=0;e<d.length;e++)++c,Yb(d[e]);delete b.g[a],b.S--}}this.sa=null};var oc=function(a,b,c,d){if(b=a.r.g[String(b)],!b)return!0;b=F(b);for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.J&&g.$==c){var h=g.w,i=g.ba||g.src;g.aa&&$b(a.r,g),e=!1!==h.call(i,d)&&e}}return e&&0!=d.Qa};nc.prototype.wa=function(a,b,c,d){return this.r.wa(String(a),b,c,d)};var pc=function(a){B(a.r,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},qc=function(a,b){a&&a.info(b,void 0)},rc=function(a,c,e){if("function"==d(a))e&&(a=h(a,e));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=h(a.handleEvent,a)}return c>2147483647?-1:b.setTimeout(a,c||0)},sc=function(a,b){nc.call(this),this.lb=void 0!==a?a:!0,this.ia=b||vc,this.Z=this.ia(this.Q)};l(sc,nc),a=sc.prototype,a.i=null,a.q=null,a.F=void 0,a.ja=!1,a.Q=0;var tc=sc.prototype,uc=Ab("goog.net.WebSocket");tc.a=uc;var vc=function(a){return Math.min(1e3*Math.pow(2,a),6e4)};a=sc.prototype,a.open=function(a,c){B(b.WebSocket,"This browser does not support WebSocket"),B(!this.P(),"The WebSocket is already open"),null!=this.D&&b.clearTimeout(this.D),this.D=null,this.q=a,(this.F=c)?(qc(this.a,"Opening the WebSocket on "+this.q+" with protocol "+this.F),this.i=new WebSocket(this.q,this.F)):(qc(this.a,"Opening the WebSocket on "+this.q),this.i=new WebSocket(this.q)),this.i.onopen=h(this.nb,this),this.i.onclose=h(this.mb,this),this.i.onmessage=h(this.K,this),this.i.onerror=h(this.ga,this)},a.close=function(){null!=this.D&&b.clearTimeout(this.D),this.D=null,this.i&&(qc(this.a,"Closing the WebSocket."),this.ja=!0,this.i.close(),this.i=null)},a.send=function(a){B(this.P(),"Cannot send without an open socket"),this.i.send(a)},a.P=function(){return!!this.i&&1==this.i.readyState},a.nb=function(){qc(this.a,"WebSocket opened on "+this.q),this.dispatchEvent("d"),this.Q=0,this.Z=this.ia(this.Q)},a.mb=function(a){if(qc(this.a,"The WebSocket on "+this.q+" closed."),this.dispatchEvent("a"),this.i=null,this.ja)qc(this.a,"The WebSocket closed normally."),this.q=null,this.F=void 0;else{var b=this.a;b&&ub(b,"The WebSocket disconnected unexpectedly: "+a.data,void 0),this.lb&&(qc(this.a,"Seconds until next reconnect attempt: "+Math.floor(this.Z/1e3)),this.D=rc(h(this.open,this,this.q,this.F),this.Z,this),this.Q++,this.Z=this.ia(this.Q))}this.ja=!1},a.K=function(a){this.dispatchEvent(new wc(a.data))},a.ga=function(a){a=a.data;var b=this.a;b&&ub(b,"An error occurred: "+a,void 0),this.dispatchEvent(new xc(a))},a.d=function(){sc.n.d.call(this),this.close()};var wc=function(a){Eb.call(this,"c"),this.message=a};l(wc,Eb);var xc=function(a){Eb.call(this,"b"),this.data=a};l(xc,Eb);var yc=function(a,b){nc.call(this),this.u=b,this.la=!0,this.I=a,this.onClose=this.onMessage=null,dc(this.I,this.u,this.ua,!1,this)};l(yc,nc),k("cast.receiver.CastChannel",yc),yc.EventType={MESSAGE:"message",CLOSE:"close"};var zc=function(a,b){Eb.call(this,a),this.message=b};l(zc,Eb),yc.Event=zc,yc.prototype.a=Ab("cast.receiver.CastChannel"),yc.prototype.s=function(){return"CastChannel["+this.u+" "+this.I.v()+"]"},yc.prototype.v=function(){return this.I.v()},yc.prototype.getNamespace=yc.prototype.v,yc.prototype.Ib=function(){return this.u},yc.prototype.getSenderId=yc.prototype.Ib,yc.prototype.ua=function(a){wb(this.a,"Dispatching CastChannel message ["+this.I.v()+", "+this.u+"]: "+a.data),a=new zc("message",a.data),this.onMessage&&this.onMessage(a),this.dispatchEvent(a)},yc.prototype.close=function(){if(this.la){this.la=!1,this.a.info("Closing CastChannel ["+this.I.v()+", "+this.u+"]");var a=new zc("close",this.u);this.onClose&&this.onClose(a),this.dispatchEvent(a),this.G()}},yc.prototype.send=function(a){if(!this.la)throw Error("Invalid state, socket not open");this.I.send(this.u,a)},yc.prototype.send=yc.prototype.send,yc.prototype.d=function(){yc.n.d.call(this),wb(this.a,"Disposed "+this.s())},k("cast.receiver.system.NAMESPACE_PREFIX","urn:x-cast:"),k("cast.receiver.system.ApplicationData",function(){this.name=this.id="",this.sessionId=0,this.namespaces=[],this.launchingSenderId=""}),k("cast.receiver.system.Sender",function(){this.userAgent=this.id=""});var Ac=function(){nc.call(this),this.j=null;var a=new sc(!0);this.j&&this.j.G(),this.j=a,Cb(this,i(Db,this.j)),dc(this.j,"d",this.Ab,!1,this),dc(this.j,"a",this.zb,!1,this),dc(this.j,"b",this.ga,!1,this),dc(this.j,"c",this.K,!1,this)};l(Ac,nc);var Bc=function(a,b,c){Eb.call(this,a),this.senderId=b,this.data=c};l(Bc,Eb),Ac.prototype.a=Ab("cast.receiver.IpcChannel");var Cc=function(a,b){vb(a.a,"IpcChannel "+b),a.dispatchEvent(new Bc("urn:x-cast:com.google.cast.system","SystemSender",JSON.stringify({type:b})))};a=Ac.prototype,a.Ab=function(){Cc(this,"opened")},a.zb=function(){Cc(this,"closed")},a.ga=function(){Cc(this,"error")},a.K=function(a){vb(this.a,"Received message: "+a.message);var b=(a=JSON.parse(a.message))&&a.namespace;a&&b&&a.senderId&&a.data?this.dispatchEvent(new Bc(b,a.senderId,a.data)):ub(this.a,"IpcChannel Message received is invalid")},a.open=function(){this.a.info("Opening message bus websocket"),this.j.open("ws://localhost:8008/v2/ipc")},a.close=function(){this.a.info("Closing message bus websocket"),this.j.close()},a.P=function(){return this.j.P()},a.send=function(a,b,c){if(!this.P)throw Error("Underlying websocket is not open");a=JSON.stringify({namespace:a,senderId:b,data:c}),vb(this.a,"IPC message sent: "+a),this.j.send(a)},a.d=function(){Ac.n.d.call(this),wb(this.a,"Disposed IpcChannel")};var Dc=function(a,b,c,d){for(nc.call(this),this.p=a,this.t=b,this.R=d||"STRING",this.onMessage=null,this.serializeMessage=this.yb,this.deserializeMessage=this.xb,this.e={},a=0;a<c.length;a++)this.e[c[a]]=null;dc(this.t,this.p,this.ua,!1,this)};l(Dc,nc),k("cast.receiver.CastMessageBus",Dc),Dc.MessageType={STRING:"STRING",JSON:"JSON",CUSTOM:"CUSTOM"},Dc.EventType={MESSAGE:"message"};var Ec=function(a,b,c){Eb.call(this,a),this.senderId=b,this.data=c};l(Ec,Eb),Dc.Event=Ec,Dc.prototype.a=Ab("cast.receiver.CastMessageBus"),Dc.prototype.s=function(){return"CastMessageBus["+this.p+"]"},Dc.prototype.v=function(){return this.p},Dc.prototype.getNamespace=Dc.prototype.v,Dc.prototype.Sa=function(){return this.R},Dc.prototype.getMessageType=Dc.prototype.Sa,Dc.prototype.ua=function(a){wb(this.a,"Dispatching CastMessageBus message ["+this.p+", "+a.senderId+"]: "+a.data);var b="STRING"==this.R?a.data:this.deserializeMessage(a.data);this.dispatchEvent(new Ec(a.senderId,a.senderId,b)),a=new Ec("message",a.senderId,b),this.onMessage&&this.onMessage(a),this.dispatchEvent(a)},Dc.prototype.send=function(a,b){if("STRING"==this.R){if(!e(b))throw Error("Wrong argument, CastMessageBus type is STRING");this.t.send(this.p,a,b)}else this.t.send(this.p,a,this.serializeMessage(b))},Dc.prototype.send=Dc.prototype.send,Dc.prototype.Fa=function(a){this.send("*:*",a)},Dc.prototype.broadcast=Dc.prototype.Fa,Dc.prototype.Fb=function(a){if(a in this.e)return this.e[a]||(this.e[a]=new yc(this,a)),this.e[a];throw Error("Requested a socket for a disconnected sender: "+a)},Dc.prototype.getCastChannel=Dc.prototype.Fb,Dc.prototype.yb=function(a){if("JSON"!=this.R)throw Error("Unexpected message type for JSON serialization");return JSON.stringify(a)},Dc.prototype.xb=function(a){if("JSON"!=this.R)throw Error("Unexpected message type for JSON serialization");return JSON.parse(a)},Dc.prototype.d=function(){if(Dc.n.d.call(this),this.e){for(var a in this.e)this.e[a]&&this.e[a].close();this.e={}}wb(this.a,"Disposed "+this.s())};var Fc=function(){if(nc.call(this),this.Na=new Mb){var a=this.Na;if(1!=a.Ga){zb();var b=yb,c=a.ob;b.T||(b.T=[]),b.T.push(c),a.Ga=!0}}this.N=H(Hc),this.t=new Ac,this.o={},this.O=new Dc("urn:x-cast:com.google.cast.system",this.t,G(this.o),"JSON"),Cb(this,i(Db,this.O)),this.Ia=this.Y=!1,this.k={},this.onVisibilityChanged=this.onSystemVolumeChanged=this.onSenderDisconnected=this.onSenderConnected=this.onReady=null,dc(this.O,"SystemSender",this.qb,!1,this)};l(Fc,nc),k("cast.receiver.CastReceiverManager",Fc),Fc.Da=function(){return Fc.ma?Fc.ma:Fc.ma=new Fc},Fc.getInstance=Fc.Da,Fc.EventType={READY:"ready",SHUTDOWN:"shutdown",SENDER_CONNECTED:"senderconnected",SENDER_DISCONNECTED:"senderdisconnected",ERROR:"error",SYSTEM_VOLUME_CHANGED:"systemvolumechanged",VISIBILITY_CHANGED:"visibilitychanged"};var Gc=function(a,b){Eb.call(this,a),this.data=b};l(Gc,Eb),Fc.Event=Gc,Fc.Config=function(){this.maxInactivity=this.statusText=void 0};var Hc={statusText:void 0,maxInactivity:10};Fc.prototype.a=Ab("cast.receiver.CastReceiverManager"),Fc.prototype.s=function(){return"CastReceiverManager"},Fc.prototype.start=function(a){if(a){if(!a)throw Error("Cannot validate undefined config.");if(void 0!=a.maxInactivity&&5>a.maxInactivity)throw Error("config.maxInactivity must be greater than or equal to 5 seconds.");J(this.N,a||{})}this.Ia=!0,this.t.open()},Fc.prototype.start=Fc.prototype.start,Fc.prototype.stop=function(){this.G(),window.close()},Fc.prototype.stop=Fc.prototype.stop,Fc.prototype.Kb=function(){return this.Y},Fc.prototype.isSystemReady=Fc.prototype.Kb,Fc.prototype.Jb=function(){return G(this.o)},Fc.prototype.getSenders=Fc.prototype.Jb,Fc.prototype.Hb=function(a){return this.o[a]?H(this.o[a]):null},Fc.prototype.getSender=Fc.prototype.Hb,Fc.prototype.Eb=function(){return this.ha},Fc.prototype.getApplicationData=Fc.prototype.Eb,Fc.prototype.Lb=function(a){if(this.Y){var b={type:"setappstate"};void 0!=a&&(b.statusText=a),this.O.send("SystemSender",b)}else this.N.statusText=a},Fc.prototype.setApplicationState=Fc.prototype.Lb,Fc.prototype.Ca=function(a,b){if("urn:x-cast:com.google.cast.system"==a)throw Error("Protected namespace");if(0!=a.lastIndexOf("urn:x-cast:",0))throw Error("Invalid namespace prefix");if(!this.k[a]){if(this.Ia)throw Error("New namespaces can not be requested after start has been called");this.k[a]=new Dc(a,this.t,G(this.o),b),Cb(this,i(Db,this.k[a]))}if(b&&this.k[a].Sa()!=b)throw Error("Invalid messageType for the namespace");return this.k[a]},Fc.prototype.getCastMessageBus=Fc.prototype.Ca,Fc.prototype.qb=function(a){var b=a.data;switch(wb(this.a,"CastReceiverManager message received: "+a.data),b.type){case"opened":this.a.info("Underlying message bus is open");var c=G(this.k),d=this.N.statusText;a={type:"ready"},d&&(a.statusText=d),a.activeNamespaces=c,a.version="2.0.0",a.messagesVersion="1.0",this.O.send("SystemSender",a),this.N.maxInactivity&&this.O.send("SystemSender",{type:"startheartbeat",maxInactivity:this.N.maxInactivity});break;case"closed":this.Y=!1,this.dispatchEvent("shutdown");break;case"error":this.dispatchEvent("error");break;case"ready":this.ha={id:b.applicationId,name:b.applicationName,sessionId:b.sessionId,namespaces:G(this.k),launchingSenderId:b.launchingSenderId},this.Y=!0,this.a.info("Dispatching CastReceiverManager system ready event ["+this.ha+"]"),c=new Gc("ready",this.ha),this.onReady&&this.onReady(c),this.dispatchEvent(c);break;case"senderconnected":d={id:b.senderId,userAgent:b.userAgent},this.a.info("Dispatching CastReceiverManager sender connected event ["+d.id+"]"),d.id in this.o&&ub(this.a,"Unexpected connected message for already connected sender: "+d.id),this.o[d.id]=d,a=new Gc("senderconnected",d.id);for(c in this.k){var b=this.k[c],e=d.id;e in b.e?ub(b.a,"Unexpected sender already registered ["+b.p+", "+e+"]"):(b.a.info("Registering sender ["+b.p+", "+e+"]"),b.e[e]=null)}this.onSenderConnected&&this.onSenderConnected(a),this.dispatchEvent(a);break;case"senderdisconnected":if(c=b.senderId,this.a.info("Dispatching sender disconnected event ["+c+"]"),c in this.o){delete this.o[c],a=new Gc("senderdisconnected",c);for(d in this.k)b=this.k[d],e=c,e in b.e&&(b.a.info("Unregistering sender ["+b.p+", "+e+"]"),b.e[e]&&b.e[e].close(),delete b.e[e]);this.onSenderDisconnected&&this.onSenderDisconnected(a),this.dispatchEvent(a)}else ub(this.a,"Unknown sender disconnected: "+c);break;case"volumechanged":c={level:b.level,muted:b.muted},this.a.info("Dispatching system volume changed event ["+c.level+", "+c.muted+"]"),c=new Gc("systemvolumechanged",c),this.onSystemVolumeChanged&&this.onSystemVolumeChanged(c),this.dispatchEvent(c);break;case"visibilitychanged":c=b.visible,this.a.info("Dispatching visibility changed event "+c),c=new Gc("visibilitychanged",c),this.onVisibilityChanged&&this.onVisibilityChanged(c),this.dispatchEvent(c);break;default:throw Error("Unexpected message type: "+b.type)}},Fc.prototype.d=function(){Fc.n.d.call(this),delete Fc.ma,vb(this.a,"Disposed "+this.s())},k("cast.receiver.media.MEDIA_NAMESPACE","urn:x-cast:com.google.cast.media"),k("cast.receiver.media.StreamType",{BUFFERED:"BUFFERED",LIVE:"LIVE",NONE:"NONE"});var Ic={INVALID_PLAYER_STATE:"INVALID_PLAYER_STATE",LOAD_FAILED:"LOAD_FAILED",LOAD_CANCELLED:"LOAD_CANCELLED",INVALID_REQUEST:"INVALID_REQUEST"};k("cast.receiver.media.ErrorType",Ic),k("cast.receiver.media.ErrorReason",{INVALID_COMMAND:"INVALID_COMMAND",INVALID_PARAMS:"INVALID_PARAMS",INVALID_MEDIA_SESSION_ID:"INVALID_MEDIA_SESSION_ID",DUPLICATE_REQUEST_ID:"DUPLICATE_REQUEST_ID"}),k("cast.receiver.media.IdleReason",{CANCELLED:"CANCELLED",INTERRUPTED:"INTERRUPTED",FINISHED:"FINISHED",ERROR:"ERROR"}),k("cast.receiver.media.SeekResumeState",{Rb:"PLAYBACK_START",Qb:"PLAYBACK_PAUSE"}),k("cast.receiver.media.PlayerState",{IDLE:"IDLE",PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING"});var Jc=function(){this.contentId="",this.streamType="NONE",this.contentType="",this.customData=this.duration=this.metadata=void 0};k("cast.receiver.media.MediaInformation",Jc);var Kc=function(){this.muted=this.level=void 0};k("cast.receiver.media.Volume",Kc),k("cast.receiver.media.MediaStatus",function(){this.mediaSessionId=0,this.media=void 0,this.playbackRate=1,this.playerState="IDLE",this.idleReason=void 0,this.supportedMediaCommands=this.currentTime=0,this.volume={level:0,muted:!1},this.customData=void 0}),k("cast.receiver.media.Command",{PAUSE:1,SEEK:2,STREAM_VOLUME:4,STREAM_MUTE:8});var Lc=function(a,b){nc.call(this),this.X=Fc.Da().Ca("urn:x-cast:com.google.cast.media","JSON"),this.fa=0,this.Xa=1,this.Ya=b||15,this.Aa=this.za=this.C=this.W=this.h=this.b=this.c=null,this.l=!1,this.ea=0,this.L=this.f=null,this.customizedStatusCallback=this.Za,this.onLoad=this.eb,this.onPlay=this.hb,this.onSeek=this.ib,this.onPause=this.gb,this.onStop=this.kb,this.onSetVolume=this.jb,this.onMetadataLoaded=this.fb,this.onLoadMetadataError=this.cb,this.onEnded=this.$a,this.onError=this.ab,this.onGetStatus=this.bb,this.Ea(a),this.X.onMessage=this.K.bind(this),rc(h(this.Ba,this),1e3)};l(Lc,nc),k("cast.receiver.MediaManager",Lc),Lc.EventType={LOAD:"load",STOP:"stop",PAUSE:"pause",PLAY:"play",SEEK:"seek",SET_VOLUME:"setvolume",GET_STATUS:"getstatus"};var Mc=function(a,b,c){Eb.call(this,a),this.data=b,this.senderId=c};l(Mc,Eb),Lc.Event=Mc;var Nc=function(){this.requestId=0,this.mediaSessionId=void 0,this.customData=null};Lc.RequestData=Nc;var Oc=function(){this.media=new Jc,this.autoplay=!1,this.currentTime=0};l(Oc,Nc),Lc.LoadRequestData=Oc;var Pc=function(){this.volume=new Kc
};l(Pc,Nc),Lc.VolumeRequestData=Pc,l(Pc,Nc),Lc.SeekRequestData=function(){this.resumeState=void 0,this.currentTime=0},l(Mc,Eb),Lc.LoadInfo=function(a,b){this.message=a,this.senderId=b},Lc.prototype.a=Ab("cast.receiver.MediaManager"),Lc.prototype.s=function(){return"MediaManager"},Lc.prototype.Gb=function(){return this.h},Lc.prototype.getMediaInformation=Lc.prototype.Gb,Lc.prototype.Nb=function(a,b,c){if(b=void 0==b||b,c&&!b)throw Error("No broadcast call but status customData has been provided");this.h=a,b&&this.m(!0,null,c)},Lc.prototype.setMediaInformation=Lc.prototype.Nb,Lc.prototype.K=function(a){var b=a.data;a=a.senderId;var c=b.type,d=b.requestId;if("number"==typeof d&&d==Math.floor(d))if(void 0!=b.mediaSessionId&&b.mediaSessionId!=this.fa||"LOAD"!=c&&"GET_STATUS"!=c&&("IDLE"==Qc(this)||void 0==b.mediaSessionId))ub(this.a,"Invalid media session ID: "+b.mediaSessionId),this.M(a,d,"INVALID_REQUEST","INVALID_MEDIA_SESSION_ID");else{wb(this.a,"MediaManager message received ["+a+"] "+JSON.stringify(b)),delete b.type;var e=null;switch(c){case"LOAD":this.a.info("Dispatching MediaManager load event"),b.media?(this.f?this.ka("LOAD_CANCELLED"):this.h&&this.H("INTERRUPTED"),this.f={senderId:a,message:b},this.ea=b.currentTime||0,this.h=b.media,this.fa++,b=new Mc("load",b,a),this.onLoad&&this.onLoad(b),this.dispatchEvent(b),e=null):(ub(this.a,"media is mandatory"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"});break;case"GET_STATUS":this.a.info("Dispatching MediaManager getStatus event"),b=new Mc("getstatus",b,a),this.onGetStatus&&this.onGetStatus(b),this.dispatchEvent(b),e=null;break;case"PLAY":this.a.info("Dispatching MediaManager play event"),b=new Mc("play",b,a),this.onPlay&&this.onPlay(b),this.dispatchEvent(b),e=null;break;case"SEEK":void 0==b.currentTime?(ub(this.a,"currentTime is mandatory"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}):(this.a.info("Dispatching MediaManager seek event"),b=new Mc("seek",b,a),this.onSeek&&this.onSeek(b),this.dispatchEvent(b),e=null);break;case"STOP":this.a.info("Dispatching MediaManager stop event"),b=new Mc("stop",b,a),this.onStop&&this.onStop(b),this.dispatchEvent(b),e=null;break;case"PAUSE":this.a.info("Dispatching MediaManager pause event"),b=new Mc("pause",b,a),this.onPause&&this.onPause(b),this.dispatchEvent(b),e=null;break;case"SET_VOLUME":!b.volume||void 0==b.volume.level&&void 0==b.volume.muted?(ub(this.a,"volume is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}):void 0!=b.volume.level&&0>b.volume.level||1<b.volume.level?(ub(this.a,"volume level is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}):(this.a.info("Dispatching MediaManager setvolume event"),b=new Mc("setvolume",b,a),this.onSetVolume&&this.onSetVolume(b),this.dispatchEvent(b),e=null);break;default:ub(this.a,"Unexpected message type: "+c),e={type:Ic.INVALID_COMMAND}}e&&(ub(this.a,"Sending error: "+e.type+" "+e.reason),this.M(a,d,e.type,e.reason))}else ub(this.a,"Ignoring request, requestId is not an integer: "+d)};var Qc=function(a){if(!a.h)return"IDLE";if(a.c){var b=a.c.getState();return"PLAYING"==b&&a.l?"BUFFERING":b}return a.b.paused?a.b.duration&&(a.b.currentTime||0==a.b.currentTime)&&a.b.duration!=a.b.currentTime?a.b.currentTime==a.ea&&a.b.autoplay?"BUFFERING":"PAUSED":"IDLE":a.l?"BUFFERING":"PLAYING"},Rc=function(a,b,c){var d={type:"MEDIA_STATUS"};if(!a.h&&!a.W)return d.status=[],d;var e=a.c?a.c.getVolume():{level:a.b.volume,muted:a.b.muted},e={mediaSessionId:a.fa,playbackRate:a.Xa,playerState:Qc(a),currentTime:a.c?a.c.getCurrentTimeSec():a.b.currentTime,supportedMediaCommands:a.Ya,volume:e};return b&&(e.media=a.h||a.W||void 0),a.h||(a.W=null),"IDLE"==e.playerState?a.L&&(e.idleReason=a.L):a.L=null,void 0!=c&&(e.customData=c),a.customizedStatusCallback?(a=a.customizedStatusCallback(e),null==a?d=null:d.status=[a]):d.status=[e],d},Sc=function(a){a.b&&(a.C=a.b.currentTime,a.za=a.b.currentTime,a.Aa=Date.now())};Lc.prototype.Ba=function(){if(rc(h(this.Ba,this),1e3),"IDLE"!=Qc(this)&&"PAUSED"!=Qc(this)){var a=this.C;this.C=this.c?this.c.getCurrentTimeSec():this.b.currentTime;var b=this.l;this.l=100>1e3*(this.C-a),b!=this.l?(wb(this.a,"Buffering state changed, isPlayerBuffering: "+this.l+" old time: "+a+" current time: "+this.C),this.m(!1)):!this.l&&(a=1e3*(this.C-this.za)-(Date.now()-this.Aa),a>1e3||-1e3>a)&&(wb(this.a,"Time drifted: "+a),this.m(!1))}},Lc.prototype.m=function(a,b,c){this.b||this.c?(wb(this.a,"Sending broadcast status message"),a=Rc(this,a,c),null!=a&&(a.requestId=b||0,this.X.Fa(a),Sc(this))):ub(this.a,"Not sending broadcast status message, state is invalid")},Lc.prototype.broadcastStatus=Lc.prototype.m,Lc.prototype.Mb=function(a){wb(this.a,"Setting IDLE reason: "+a),this.L=a},Lc.prototype.setIdleReason=Lc.prototype.Mb,Lc.prototype.M=function(a,b,c,d,e){this.a.info("Sending error message to "+a);var f={};f.requestId=b,f.type=c,d&&(f.reason=d),e&&(f.customData=e),this.X.send(a,f)},Lc.prototype.sendError=Lc.prototype.M,Lc.prototype.Ka=function(a,b,c,d){this.b||this.c?(wb(this.a,"Sending status message to "+a),c=Rc(this,c,d),null!=c&&(c.requestId=b,this.X.send(a,c),Sc(this))):(ub(this.a,"State is invalid"),this.M(a,b,"INVALID_PLAYER_STATE",null,d))},Lc.prototype.sendStatus=Lc.prototype.Ka,Lc.prototype.Za=function(a){return a},Lc.prototype.eb=function(a){var b=a.data;this.c?b.media&&b.media.contentId&&this.c.load(b.media.contentId,!!b.autoplay,b.currentTime):(this.b.autoplay=!1,b.media&&a.data.media.contentId&&(this.b.src=b.media.contentId),this.b.autoplay=void 0!=b.autoplay?b.autoplay:!0,this.b.load())},Lc.prototype.Ea=function(a){a.getState?(this.b&&(Uc(this),this.b=null),this.c!=a&&(Uc(this),this.c=a,Tc(this))):(this.c&&(Uc(this),this.c=null),this.b!=a&&(Uc(this),this.b=a,Tc(this)))},Lc.prototype.setMediaElement=Lc.prototype.Ea;var Tc=function(a){a.c?(a.c.registerErrorCallback(a.oa.bind(a)),a.c.registerEndedCallback(a.na.bind(a)),a.c.registerLoadCallback(a.pa.bind(a))):(dc(a.b,"loadedmetadata",a.pa,!1,a),dc(a.b,"error",a.oa,!1,a),dc(a.b,"ended",a.na,!1,a))},Uc=function(a){a.c?(a.c.unregisterErrorCallback(),a.c.unregisterEndedCallback(),a.c.unregisterLoadCallback()):(fc(a.b,"loadedmetadata",a.pa,!1,a),fc(a.b,"error",a.oa,!1,a),fc(a.b,"ended",a.na,!1,a))};Lc.prototype.pa=function(){this.f&&(this.a.info("Metadata loaded"),this.h&&(this.h.duration=this.c?this.c.getDurationSec():this.b.duration),this.l=!0,this.onMetadataLoaded?this.onMetadataLoaded(this.f):this.f=null)},Lc.prototype.fb=function(a){a.message.currentTime&&this.b&&(this.b.currentTime=a.message.currentTime),this.Ra()},Lc.prototype.oa=function(a){this.f?(ub(this.a,"Load metadata error"),this.onLoadMetadataError?this.onLoadMetadataError(this.f):this.f=null):this.onError&&this.onError(a)},Lc.prototype.ka=function(a,b){this.f?(this.M(this.f.senderId,this.f.message.requestId,a||"LOAD_FAILED",null,b),this.f=null):ub(this.a,"Not sending LOAD error as there is no on going LOAD request")},Lc.prototype.sendLoadError=Lc.prototype.ka,Lc.prototype.Ra=function(a){this.f?(this.m(!0,this.f.message.requestId,a),this.f=null):ub(this.a,"Not sending status as there is no on going LOAD request")},Lc.prototype.sendLoadComplete=Lc.prototype.Ra,a=Lc.prototype,a.ab=function(){this.H("ERROR")},a.cb=function(){this.H("ERROR",!1),this.ka("LOAD_FAILED")},a.na=function(){this.onEnded&&this.onEnded()},a.$a=function(){this.H("FINISHED")},a.bb=function(a){wb(this.a,"onGetStatus"),this.Ka(a.senderId,a.data.requestId,!0)},a.hb=function(a){wb(this.a,"onPlay"),this.c?this.c.play():this.b.play(),this.m(!1,a.data.requestId)},a.ib=function(a){a=a.data,wb(this.a,"onSeek: "+JSON.stringify(a)),this.c?(this.c.seek(a.currentTime,a.resumeState),"PAUSED"!=this.c.getState()&&(this.l=!0)):(this.b.currentTime=a.currentTime,"PLAYBACK_START"==a.resumeState&&this.b.paused?this.b.play():"PLAYBACK_PAUSE"!=a.resumeState||this.b.paused||this.b.pause(),this.b.paused||(this.l=!0)),this.m(!1,a.requestId)},a.kb=function(a){this.H("CANCELLED",!0,a.data.requestId)},a.H=function(a,b,c,d){if(b=void 0==b||b,(d||c)&&!b)throw Error("customData and requestId should only be provided in broadcast mode");this.h?(this.c?this.c.reset():(this.a.info("Resetting media element"),this.b.removeAttribute("src"),this.ea=0,this.b.load()),a&&(this.L=a),this.W=this.h,this.h=null,b&&this.m(!1,c,d)):this.a.info("Nothing to reset, Media is already null")},Lc.prototype.resetMediaElement=Lc.prototype.H,Lc.prototype.gb=function(a){this.c?this.c.pause():this.b.pause(),this.m(!1,a.data.requestId)},Lc.prototype.jb=function(a){a=a.data,this.c?this.c.setVolume(a.volume):(void 0!=a.volume.level&&(this.b.volume=a.volume.level),void 0!=a.volume.muted&&(this.b.muted=a.volume.muted)),this.m(!1,a.requestId)},Lc.prototype.d=function(){Lc.n.d.call(this),wb(this.a,"Disposed "+this.s())}}).call(window)},{}],2:[function(){!function(){var a=window.chrome||{};a.cast=a.cast||{},a.cast.media=a.cast.media||{},a.cast.ApiBootstrap_=function(){},a.cast.ApiBootstrap_.EXTENSION_IDS=["boadgeojelhgndaghljhdicfkmllpafd","dliochdbjfkdbacpmhlcpmleaejidimm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],a.cast.ApiBootstrap_.findInstalledExtension_=function(b){a.cast.ApiBootstrap_.findInstalledExtensionHelper_(0,b)},a.cast.ApiBootstrap_.findInstalledExtensionHelper_=function(b,c){b==a.cast.ApiBootstrap_.EXTENSION_IDS.length?c(null):a.cast.ApiBootstrap_.isExtensionInstalled_(a.cast.ApiBootstrap_.EXTENSION_IDS[b],function(d){d?c(a.cast.ApiBootstrap_.EXTENSION_IDS[b]):a.cast.ApiBootstrap_.findInstalledExtensionHelper_(b+1,c)})},a.cast.ApiBootstrap_.getCastSenderUrl_=function(a){return"chrome-extension://"+a+"/cast_sender.js"},a.cast.ApiBootstrap_.isExtensionInstalled_=function(b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==d.readyState&&200==d.status&&c(!0)},d.onerror=function(){c(!1)},d.open("GET",a.cast.ApiBootstrap_.getCastSenderUrl_(b),!0),d.send()},a.cast.ApiBootstrap_.findInstalledExtension_(function(b){if(b){console.log("Found cast extension: "+b),a.cast.extensionId=b;var c=document.createElement("script");c.src=a.cast.ApiBootstrap_.getCastSenderUrl_(b),(document.head||document.documentElement).appendChild(c)}else{var d="No cast extension found";console.log(d);var e=window.__onGCastApiAvailable;e&&"function"==typeof e&&e(!1,d)}})}()},{}],3:[function(a){!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):a.chromecast=b()}(window,function(){"use strict";var b,c,d={},e={};return b={bind:function(a,b){return function(){a.apply(b,arguments)}},extend:function(a){var b,c,d={};for(b=1;b<arguments.length;b++){c=arguments[b];for(d in c)a[d]=c[d]}},create:function(a){var b=function(){};return b.prototype=a,new b}},c={_events:null,_options:null,on:function(a,b){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),this._events[a].push(b),this},options:function(a){return this._options||(this._options={}),arguments.length>0&&b.extend(this._options,a),this._options},_trigger:function(a,b){var c,d,e;if(this._events&&this._events[a])for(d=this._events[a],c=0;c<d.length;c++)e=d[c],e.call(this,b)}},b.extend(d,c,{_session:null,initialize:function(a){return this.options(a),setTimeout(b.bind(this._initializeCast,this),1e3),this},sendMessage:function(a){var c=this.options();return this._isAvailable()?(this._session.sendMessage(c.namespace,a,b.bind(this._success,this),b.bind(this._error,this)),this):this},start:function(){var a=this.options();return chrome.cast.requestSession(b.bind(function(c){this._session=c,this._session.addUpdateListener(b.bind(this._sessionUpdateListener,this)),this._session.addMessageListener(a.namespace,b.bind(this._receiverMessage,this))},this),b.bind(this._error,this)),this},_initializeCast:function(){var a,c,d=this.options();return this._isAvailable()?(a=new chrome.cast.SessionRequest(d.applicationID),c=new chrome.cast.ApiConfig(a,b.bind(this._sessionListener,this),b.bind(this._receiverListener,this)),chrome.cast.initialize(c,b.bind(this._initSuccess,this),b.bind(this._error,this)),this):this},_isAvailable:function(){return chrome&&chrome.cast&&chrome.cast.isAvailable},_sessionListener:function(a){var c=this.options();this._trigger("session",a),this._session=a,this._session.addUpdateListener(b.bind(this._sessionUpdateListener,this)),this._session.addMessageListener(c.namespace,b.bind(this._receiverMessage,this))},_initSuccess:function(){this._trigger("initialized")},_error:function(a){this._trigger("error",a)},_success:function(a){this._trigger("success",a)},_stopAppSuccess:function(){this._trigger("stopappsuccess")},_sessionUpdateListener:function(a){this._trigger("sessionupdatelistener",a),a||(this._session=null)},_receiverMessage:function(a,b){this._trigger("message",{namespace:a,message:b})},_receiverListener:function(a){this._trigger("listener",a)},_stopApp:function(){this._session.stop(b.bind(this._stopAppSuccess,this),b.bind(this._error,this))}}),b.extend(e,c,{_castReceiverManager:null,_messageBus:null,initialize:function(a){return this.options(a),this._initializeCast(),this},getSenders:function(){return this._castReceiverManager.getSenders(),this},disconnect:function(){return window.close(),this},setApplicationState:function(a){return this._castReceiverManager.setApplicationState(a),this},_initializeCast:function(){var a,c,d=this.options();cast.receiver.logger.setLevelValue(0),a=cast.receiver.CastReceiverManager.getInstance(),a.onReady=b.bind(this._ready,this),a.onSenderConnected=b.bind(this._renderConnected,this),a.onSenderDisconnected=b.bind(this._renderDisconnected,this),a.onSystemVolumeChanged=b.bind(this._systemVolumeChanged,this),c=a.getCastMessageBus(d.namespace),c.onMessage=b.bind(this._message,this),this._messageBus=c,this._castReceiverManager=a,a.start({statusText:"starting"})},_ready:function(a){this._trigger("ready",a),this._castReceiverManager.setApplicationState("ready")},_senderConnected:function(a){this._trigger("senderconnected",a)},_senderDisconnected:function(a){this._trigger("senderdisconnected",a)},_systemVolumeChanged:function(a){this._trigger("systemvolumechanged",a)},_message:function(a){this._trigger("message",a),this._messageBus.send(a.senderId,a.data)}}),{createSender:function(c){return a("../bower_components/cast_sender/index"),b.create(d).initialize(c)},createReceiver:function(c){return a("../bower_components/cast_receiver/index"),b.create(e).initialize(c)}}})},{"../bower_components/cast_receiver/index":1,"../bower_components/cast_sender/index":2}]},{},[3]);